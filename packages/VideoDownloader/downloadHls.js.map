{"version":3,"file":"downloadHls.js","mappings":"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","sources":["webpack://video/./node_modules/streamsaver/StreamSaver.js","webpack://video/webpack/bootstrap","webpack://video/./downloadHls.js"],"sourcesContent":["/*! streamsaver. MIT License. Jimmy WÃ¤rting <https://jimmy.warting.se/opensource> */\n\n/* global chrome location ReadableStream define MessageChannel TransformStream */\n\n;((name, definition) => {\n  typeof module !== 'undefined'\n    ? module.exports = definition()\n    : typeof define === 'function' && typeof define.amd === 'object'\n      ? define(definition)\n      : this[name] = definition()\n})('streamSaver', () => {\n  'use strict'\n\n  const global = typeof window === 'object' ? window : this\n  if (!global.HTMLElement) console.warn('streamsaver is meant to run on browsers main thread')\n\n  let mitmTransporter = null\n  let supportsTransferable = false\n  const test = fn => { try { fn() } catch (e) {} }\n  const ponyfill = global.WebStreamsPolyfill || {}\n  const isSecureContext = global.isSecureContext\n  // TODO: Must come up with a real detection test (#69)\n  let useBlobFallback = /constructor/i.test(global.HTMLElement) || !!global.safari || !!global.WebKitPoint\n  const downloadStrategy = isSecureContext || 'MozAppearance' in document.documentElement.style\n    ? 'iframe'\n    : 'navigate'\n\n  const streamSaver = {\n    createWriteStream,\n    WritableStream: global.WritableStream || ponyfill.WritableStream,\n    supported: true,\n    version: { full: '2.0.5', major: 2, minor: 0, dot: 5 },\n    mitm: 'https://jimmywarting.github.io/StreamSaver.js/mitm.html?version=2.0.0'\n  }\n\n  /**\n   * create a hidden iframe and append it to the DOM (body)\n   *\n   * @param  {string} src page to load\n   * @return {HTMLIFrameElement} page to load\n   */\n  function makeIframe (src) {\n    if (!src) throw new Error('meh')\n    const iframe = document.createElement('iframe')\n    iframe.hidden = true\n    iframe.src = src\n    iframe.loaded = false\n    iframe.name = 'iframe'\n    iframe.isIframe = true\n    iframe.postMessage = (...args) => iframe.contentWindow.postMessage(...args)\n    iframe.addEventListener('load', () => {\n      iframe.loaded = true\n    }, { once: true })\n    document.body.appendChild(iframe)\n    return iframe\n  }\n\n  /**\n   * create a popup that simulates the basic things\n   * of what a iframe can do\n   *\n   * @param  {string} src page to load\n   * @return {object}     iframe like object\n   */\n  function makePopup (src) {\n    const options = 'width=200,height=100'\n    const delegate = document.createDocumentFragment()\n    const popup = {\n      frame: global.open(src, 'popup', options),\n      loaded: false,\n      isIframe: false,\n      isPopup: true,\n      remove () { popup.frame.close() },\n      addEventListener (...args) { delegate.addEventListener(...args) },\n      dispatchEvent (...args) { delegate.dispatchEvent(...args) },\n      removeEventListener (...args) { delegate.removeEventListener(...args) },\n      postMessage (...args) { popup.frame.postMessage(...args) }\n    }\n\n    const onReady = evt => {\n      if (evt.source === popup.frame) {\n        popup.loaded = true\n        global.removeEventListener('message', onReady)\n        popup.dispatchEvent(new Event('load'))\n      }\n    }\n\n    global.addEventListener('message', onReady)\n\n    return popup\n  }\n\n  try {\n    // We can't look for service worker since it may still work on http\n    new Response(new ReadableStream())\n    if (isSecureContext && !('serviceWorker' in navigator)) {\n      useBlobFallback = true\n    }\n  } catch (err) {\n    useBlobFallback = true\n  }\n\n  test(() => {\n    // Transferable stream was first enabled in chrome v73 behind a flag\n    const { readable } = new TransformStream()\n    const mc = new MessageChannel()\n    mc.port1.postMessage(readable, [readable])\n    mc.port1.close()\n    mc.port2.close()\n    supportsTransferable = true\n    // Freeze TransformStream object (can only work with native)\n    Object.defineProperty(streamSaver, 'TransformStream', {\n      configurable: false,\n      writable: false,\n      value: TransformStream\n    })\n  })\n\n  function loadTransporter () {\n    if (!mitmTransporter) {\n      mitmTransporter = isSecureContext\n        ? makeIframe(streamSaver.mitm)\n        : makePopup(streamSaver.mitm)\n    }\n  }\n\n  /**\n   * @param  {string} filename filename that should be used\n   * @param  {object} options  [description]\n   * @param  {number} size     deprecated\n   * @return {WritableStream<Uint8Array>}\n   */\n  function createWriteStream (filename, options, size) {\n    let opts = {\n      size: null,\n      pathname: null,\n      writableStrategy: undefined,\n      readableStrategy: undefined\n    }\n\n    let bytesWritten = 0 // by StreamSaver.js (not the service worker)\n    let downloadUrl = null\n    let channel = null\n    let ts = null\n\n    // normalize arguments\n    if (Number.isFinite(options)) {\n      [ size, options ] = [ options, size ]\n      console.warn('[StreamSaver] Deprecated pass an object as 2nd argument when creating a write stream')\n      opts.size = size\n      opts.writableStrategy = options\n    } else if (options && options.highWaterMark) {\n      console.warn('[StreamSaver] Deprecated pass an object as 2nd argument when creating a write stream')\n      opts.size = size\n      opts.writableStrategy = options\n    } else {\n      opts = options || {}\n    }\n    if (!useBlobFallback) {\n      loadTransporter()\n\n      channel = new MessageChannel()\n\n      // Make filename RFC5987 compatible\n      filename = encodeURIComponent(filename.replace(/\\//g, ':'))\n        .replace(/['()]/g, escape)\n        .replace(/\\*/g, '%2A')\n\n      const response = {\n        transferringReadable: supportsTransferable,\n        pathname: opts.pathname || Math.random().toString().slice(-6) + '/' + filename,\n        headers: {\n          'Content-Type': 'application/octet-stream; charset=utf-8',\n          'Content-Disposition': \"attachment; filename*=UTF-8''\" + filename\n        }\n      }\n\n      if (opts.size) {\n        response.headers['Content-Length'] = opts.size\n      }\n\n      const args = [ response, '*', [ channel.port2 ] ]\n\n      if (supportsTransferable) {\n        const transformer = downloadStrategy === 'iframe' ? undefined : {\n          // This transformer & flush method is only used by insecure context.\n          transform (chunk, controller) {\n            if (!(chunk instanceof Uint8Array)) {\n              throw new TypeError('Can only write Uint8Arrays')\n            }\n            bytesWritten += chunk.length\n            controller.enqueue(chunk)\n\n            if (downloadUrl) {\n              location.href = downloadUrl\n              downloadUrl = null\n            }\n          },\n          flush () {\n            if (downloadUrl) {\n              location.href = downloadUrl\n            }\n          }\n        }\n        ts = new streamSaver.TransformStream(\n          transformer,\n          opts.writableStrategy,\n          opts.readableStrategy\n        )\n        const readableStream = ts.readable\n\n        channel.port1.postMessage({ readableStream }, [ readableStream ])\n      }\n\n      channel.port1.onmessage = evt => {\n        // Service worker sent us a link that we should open.\n        if (evt.data.download) {\n          // Special treatment for popup...\n          if (downloadStrategy === 'navigate') {\n            mitmTransporter.remove()\n            mitmTransporter = null\n            if (bytesWritten) {\n              location.href = evt.data.download\n            } else {\n              downloadUrl = evt.data.download\n            }\n          } else {\n            if (mitmTransporter.isPopup) {\n              mitmTransporter.remove()\n              mitmTransporter = null\n              // Special case for firefox, they can keep sw alive with fetch\n              if (downloadStrategy === 'iframe') {\n                makeIframe(streamSaver.mitm)\n              }\n            }\n\n            // We never remove this iframes b/c it can interrupt saving\n            makeIframe(evt.data.download)\n          }\n        } else if (evt.data.abort) {\n          chunks = []\n          channel.port1.postMessage('abort') //send back so controller is aborted\n          channel.port1.onmessage = null\n          channel.port1.close()\n          channel.port2.close()\n          channel = null\n        }\n      }\n\n      if (mitmTransporter.loaded) {\n        mitmTransporter.postMessage(...args)\n      } else {\n        mitmTransporter.addEventListener('load', () => {\n          mitmTransporter.postMessage(...args)\n        }, { once: true })\n      }\n    }\n\n    let chunks = []\n\n    return (!useBlobFallback && ts && ts.writable) || new streamSaver.WritableStream({\n      write (chunk) {\n        if (!(chunk instanceof Uint8Array)) {\n          throw new TypeError('Can only write Uint8Arrays')\n        }\n        if (useBlobFallback) {\n          // Safari... The new IE6\n          // https://github.com/jimmywarting/StreamSaver.js/issues/69\n          //\n          // even though it has everything it fails to download anything\n          // that comes from the service worker..!\n          chunks.push(chunk)\n          return\n        }\n\n        // is called when a new chunk of data is ready to be written\n        // to the underlying sink. It can return a promise to signal\n        // success or failure of the write operation. The stream\n        // implementation guarantees that this method will be called\n        // only after previous writes have succeeded, and never after\n        // close or abort is called.\n\n        // TODO: Kind of important that service worker respond back when\n        // it has been written. Otherwise we can't handle backpressure\n        // EDIT: Transferable streams solves this...\n        channel.port1.postMessage(chunk)\n        bytesWritten += chunk.length\n\n        if (downloadUrl) {\n          location.href = downloadUrl\n          downloadUrl = null\n        }\n      },\n      close () {\n        if (useBlobFallback) {\n          const blob = new Blob(chunks, { type: 'application/octet-stream; charset=utf-8' })\n          const link = document.createElement('a')\n          link.href = URL.createObjectURL(blob)\n          link.download = filename\n          link.click()\n        } else {\n          channel.port1.postMessage('end')\n        }\n      },\n      abort () {\n        chunks = []\n        channel.port1.postMessage('abort')\n        channel.port1.onmessage = null\n        channel.port1.close()\n        channel.port2.close()\n        channel = null\n      }\n    }, opts.writableStrategy)\n  }\n\n  return streamSaver\n})\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","import streamSaver from \"streamsaver\";\n\nchrome.runtime.onMessage.addListener(async function(message, sender, sendResponse) {\n\n    let a = message.a;\n\n    if(a.segments) {\n        let data3 = null;\n        let fails = 0;\n        let checkRoot = false;\n        let uriSegment = '';\n        let fullPathSegment = '';\n        let root = a.rootPath;\n        all.innerHTML = a.segments.length;\n\n        for (let i = 0; i < a.segments.length; i++) {\n\n            uriSegment = a.segments[i].uri;\n\n            if(checkRoot === false) {\n                if(uriSegment.indexOf('http') !== -1) {\n                    root = '';\n                } else {\n                    let flu = new URL(root+uriSegment);\n                    flu.searchParams.append('videoistrefslapro', \"tr\");\n                    let check3 = await fetch(flu.href);\n                    if(check3.ok === false) {\n                        root = a.host;\n                    }\n                }\n                checkRoot = true;\n            }\n            \n            try {\n                fullPathSegment = root+uriSegment;\n                let flu = new URL(fullPathSegment);\n                flu.searchParams.append('videoistrefslapro', \"tr\");\n                let response3 = await fetch(flu.href);\n                let datas = await response3.arrayBuffer();\n\n                if (data3) {\n                    data3 = _appendBuffer(data3, datas);\n                } else {\n                    data3 = datas;\n                }\n                \n            } catch (err) {\n                console.log('Error::', err);\n                if (fails < 10) {\n                    i = i - 1;\n                    fails++;\n                } else {\n                    break;\n                }\n            }\n            current.innerHTML = i;\n            document.title = i+' out of '+a.segments.length;\n        }\n        \n        downloadHls(data3, a.filename+'.ts', 'video/MP2T');\n        headtitle.innerHTML = \"Video downloaded to your computer...\"\n        logprogress.innerHTML = \"Check the downloader folder your video should have downloaded\";\n        successAnimation.style.display = 'block';\n        animationWindow.style.display = 'none';\n        document.title = 'Finish';\n    }\n    \n    \n    \n});\n\nfunction downloadHls(data, filename, type) {\n    \n    var blob = new Blob([data], {type: type});\n\n    const fileStream = streamSaver.createWriteStream('video.ts', {\n        size: blob.size // Makes the procentage visiable in the downloadHls\n    })\n\n    const readableStream = blob.stream()\n    if (WritableStream && readableStream.pipeTo) {\n        return readableStream.pipeTo(fileStream)\n            .then(() => console.log('done writing'))\n    }\n\n    // // Write (pipe) manually\n    // window.writer = fileStream.getWriter()\n    //\n    // const reader = readableStream.getReader()\n    // const pump = () => reader.read()\n    //     .then(res => res.done\n    //         ? writer.close()\n    //         : writer.write(res.value).then(pump))\n    //\n    // pump();\n    \n}\n\nfunction _appendBuffer (buffer1, buffer2) {\n    var tmp = new Uint8Array(buffer1.byteLength + buffer2.byteLength);\n    tmp.set(new Uint8Array(buffer1), 0);\n    tmp.set(new Uint8Array(buffer2), buffer1.byteLength);\n    return tmp.buffer;\n};\n"],"names":["name","definition","module","exports","define","amd","global","window","HTMLElement","console","warn","mitmTransporter","supportsTransferable","test","fn","e","ponyfill","WebStreamsPolyfill","isSecureContext","useBlobFallback","safari","WebKitPoint","downloadStrategy","document","documentElement","style","streamSaver","createWriteStream","WritableStream","supported","version","full","major","minor","dot","mitm","makeIframe","src","Error","iframe","createElement","hidden","loaded","isIframe","postMessage","args","contentWindow","addEventListener","once","body","appendChild","makePopup","options","delegate","createDocumentFragment","popup","frame","open","isPopup","remove","close","dispatchEvent","removeEventListener","onReady","evt","source","Event","Response","ReadableStream","navigator","err","readable","TransformStream","mc","MessageChannel","port1","port2","Object","defineProperty","configurable","writable","value","loadTransporter","filename","size","opts","pathname","writableStrategy","undefined","readableStrategy","bytesWritten","downloadUrl","channel","ts","Number","isFinite","highWaterMark","encodeURIComponent","replace","escape","response","transferringReadable","Math","random","toString","slice","headers","transformer","transform","chunk","controller","Uint8Array","TypeError","length","enqueue","location","href","flush","readableStream","onmessage","data","download","abort","chunks","write","push","blob","Blob","type","link","URL","createObjectURL","click","chrome","runtime","onMessage","addListener","message","sender","sendResponse","a","segments","data3","fails","checkRoot","uriSegment","fullPathSegment","root","rootPath","all","innerHTML","i","uri","indexOf","flu","searchParams","append","check3","fetch","ok","host","response3","datas","arrayBuffer","_appendBuffer","log","current","title","downloadHls","headtitle","logprogress","successAnimation","display","animationWindow","fileStream","stream","pipeTo","then","buffer1","buffer2","tmp","byteLength","set","buffer"],"sourceRoot":""}